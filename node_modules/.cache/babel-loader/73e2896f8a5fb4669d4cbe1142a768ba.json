{"ast":null,"code":"import _slicedToArray from\"/Users/abrahamtalavera/Projects/rates/rates/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from'axios';import'./ConvertForm.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ConvertForm(){var url='http://data.fixer.io/api/';var access_key='2fe0ad1d7c24d0016498ef8ec7b86137';var _useState=useState({}),_useState2=_slicedToArray(_useState,2),symbols=_useState2[0],setSymbols=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),from=_useState4[0],setFrom=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),to=_useState6[0],setTo=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),amount=_useState8[0],setAmount=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),result=_useState10[0],setResult=_useState10[1];useEffect(function(){getSymbols();},[]);function getSymbols(){axios.get(\"\".concat(url,\"symbols?access_key=\").concat(access_key)).then(function(res){if(res.status===200){var _res$data;setSymbols((_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.symbols);}});}function getConvert(){axios.get(\"\".concat(url,\"convert?access_key=\").concat(access_key,\"&from=\").concat(from,\"&to=\").concat(to,\"&amount=\").concat(amount)).then(function(res){var _res$data2;if((_res$data2=res.data)!==null&&_res$data2!==void 0&&_res$data2.success){var _res$data3;setResult((_res$data3=res.data)===null||_res$data3===void 0?void 0:_res$data3.result);}});}function handleFromSelect(e){setFrom(e.target.value);}function handleToSelect(e){setTo(e.target.value);}function handleAmountInput(e){setAmount(e.target.value);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"convert-form\",onSubmit:function onSubmit(e){e.preventDefault();},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"From:\"}),/*#__PURE__*/_jsx(\"select\",{onChange:handleFromSelect,children:Object.keys(symbols).map(function(symbol){return/*#__PURE__*/_jsx(\"option\",{children:symbol},symbol);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"To:\"}),/*#__PURE__*/_jsx(\"select\",{onChange:handleToSelect,children:Object.keys(symbols).map(function(symbol){return/*#__PURE__*/_jsx(\"option\",{children:symbol},symbol);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,value:1,onChange:handleAmountInput})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:getConvert,className:\"button-form\",children:\"Calculate\"})})]}),result&&/*#__PURE__*/_jsx(\"div\",{className:\"convert-result\",children:/*#__PURE__*/_jsx(\"p\",{children:\"El resultado es: \".concat(result)})})]});}","map":{"version":3,"sources":["/Users/abrahamtalavera/Projects/rates/rates/src/components/convertForm/ConvertForm.js"],"names":["React","useState","useEffect","axios","ConvertForm","url","access_key","symbols","setSymbols","from","setFrom","to","setTo","amount","setAmount","result","setResult","getSymbols","get","then","res","status","data","getConvert","success","handleFromSelect","e","target","value","handleToSelect","handleAmountInput","preventDefault","Object","keys","map","symbol"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from 'axios'\nimport './ConvertForm.css'\n\nexport default function ConvertForm(){\n    const url = 'http://data.fixer.io/api/'\n    const access_key = '2fe0ad1d7c24d0016498ef8ec7b86137'\n    const [symbols,setSymbols] = useState({});\n    let [from, setFrom ] = useState('');\n    let [to,setTo] = useState('');\n    let [amount, setAmount] = useState(1)\n    let [result, setResult] = useState(null);\n\n    useEffect(() => {\n        getSymbols();\n    }, [])\n\n    function getSymbols(){\n        axios.get(`${url}symbols?access_key=${access_key}`)\n        .then(res => {\n          if ( res.status === 200 ){\n            setSymbols(res.data?.symbols);\n          }\n        })\n    }\n\n    function getConvert(){\n        axios.get(`${url}convert?access_key=${access_key}&from=${from}&to=${to}&amount=${amount}`)\n        .then(res => {\n            if(res.data?.success){\n                setResult(res.data?.result);\n            }\n        })\n    }\n\n    function handleFromSelect(e){\n        setFrom(e.target.value)\n    }\n\n    function handleToSelect(e){\n        setTo(e.target.value)\n    }\n\n    function handleAmountInput(e){\n        setAmount(e.target.value)\n    }\n\n    return(\n    <>\n        <form className=\"convert-form\" onSubmit={(e) => {e.preventDefault()}}>\n            <div>\n                <label>From:</label>\n                <select onChange={handleFromSelect}>\n                    {Object.keys(symbols).map((symbol) => {\n                        return <option key={symbol}>{symbol}</option>})}\n                </select>\n            </div>\n            <div>\n            <label>To:</label>\n                <select onChange={handleToSelect}>\n                    {Object.keys(symbols).map((symbol) => {\n                        return <option key={symbol}>{symbol}</option>})}\n                </select>\n            </div>\n            <div>\n                <label>Amount:</label>\n                <input type=\"number\" min={1} value={1} onChange={handleAmountInput} />\n            </div>\n            <div>\n                <button onClick={getConvert} className='button-form'>Calculate</button>\n            </div>            \n        </form>\n        {result && (\n            <div className=\"convert-result\">\n                <p>{`El resultado es: ${result}`}</p>                    \n            </div>\n        )}\n    </>\n    )\n}"]},"metadata":{},"sourceType":"module"}